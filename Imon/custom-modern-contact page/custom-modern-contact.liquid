{% comment %}
============================================================
MODERN CONTACT LAYOUT LIQUID RENDERING LOGIC (UPGRADED)
============================================================
Goal: Render blocks dynamically, ensuring info-cards are grouped.
FIX 1: letter_spacing schema errors (min/default) fixed.
FIX 2: Ensure Info Card icons/text are centered (default).
FIX 3: Ensure Form and Map have equal height on desktop.
FIX 4: Implemented correct Shopify form submission using {% form 'contact' %}.
FIX 5: letter_spacing "step must have 1 or less decimal digits" error resolved.
{% endcomment %}

{% comment %} 
    Define CSS custom properties from Section Settings (Global Style Settings)
{% endcomment %}
<style>
    #shopify-section-{{ section.id }} {
        --section-padding-top: {{ section.settings.padding_top }}px;
        --section-padding-bottom: {{ section.settings.padding_bottom }}px;
        --section-bg-color: {{ section.settings.background_color }};
        --accent-color: {{ section.settings.accent_color }};
        --text-color: {{ section.settings.text_color }};
        --card-bg-color: {{ section.settings.card_background }};
        --card-radius: {{ section.settings.card_radius }}px;
        --input-radius: {{ section.settings.input_radius }}px;
        --input-border: {{ section.settings.input_border_color }};
        --button-radius: {{ section.settings.button_radius }}px;
        
        /* Global Typography Custom Properties */
        --global-font-family: {{ section.settings.font_family }};
        --global-line-height: {{ section.settings.line_height }};
        --global-letter-spacing: {{ section.settings.letter_spacing }}em;
        
        padding-top: var(--section-padding-top);
        padding-bottom: var(--section-padding-bottom);
        background-color: var(--section-bg-color);
        color: var(--text-color);
        font-family: var(--global-font-family);
        line-height: var(--global-line-height);
        letter-spacing: var(--global-letter-spacing);
    }
    
    .contact-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }
    
    /* Global Styles for Typography */
    .section-header-content {
        text-align: var(--header-text-align);
    }
    
    .sub-heading {
        color: var(--accent-color);
        font-size: var(--sub-heading-size);
        font-weight: var(--sub-heading-weight);
        margin-bottom: 5px;
        text-transform: uppercase;
    }
    .main-heading {
        font-size: var(--main-heading-size);
        font-weight: var(--main-heading-weight);
        margin-bottom: 30px;
    }

    /* Info Card Grid Styling */
    .contact-cards-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 40px; 
        margin-bottom: 60px;
    }
    .card-item {
        background-color: var(--card-bg-color);
        border-radius: var(--card-radius);
        padding: 30px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        text-align: var(--card-text-align, center); /* Card Text Alignment (Default: center) */
        transition: transform 0.3s ease;
    }
    .card-item:hover {
        transform: translateY(-5px);
    }
    .icon-wrapper {
        margin-bottom: 15px;
        display: flex; /* Ensures icon is centered */
        justify-content: center;
    }
    .icon-wrapper img {
        max-width: 50px;
        height: auto;
    }
    .card-title-block {
        font-size: var(--card-title-size);
        font-weight: var(--card-title-weight);
        margin-bottom: 10px;
        color: var(--text-color);
    }
    .card-text {
        color: #6c757d; /* Lighter text color for details */
        font-size: 15px;
        line-height: 1.6;
    }
    .card-text a {
        color: var(--accent-color); /* Link color inside card */
        text-decoration: none;
    }
    .card-text a:hover {
        text-decoration: underline;
    }

    /* Form and Map Styling (Equal Height Fix) */
    .form-map-container {
        display: flex; /* Essential for equal height */
        gap: 40px;
        margin-bottom: 40px;
        flex-wrap: wrap;
        align-items: stretch; /* Ensures items stretch to the full height of the container */
    }
    .contact-form-wrapper,
    .google-map-wrapper {
        flex: 1 1 45%; 
        min-width: 300px; 
    }
    .contact-form-wrapper {
        background-color: var(--card-bg-color);
        padding: 40px;
        border-radius: var(--card-radius);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
    }
    .google-map-wrapper {
        display: flex; /* To stretch the iframe inside it */
    }
    .google-map-wrapper iframe {
        width: 100%;
        height: 100%; /* Now takes full height of the stretched parent */
        min-height: 400px; /* Minimum height for desktop map view */
        border: none;
        border-radius: var(--card-radius);
    }
    .form-title {
        font-size: var(--form-title-size);
        font-weight: var(--form-title-weight);
        margin-bottom: 25px;
        text-align: var(--form-title-align); /* Form Title Alignment */
    }
    
    /* Form input field grouping (New CSS for two columns) */
    .contact-form-wrapper .form-row-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        margin-bottom: 15px;
    }

    /* Simple form styling */
    .contact-form-wrapper input[type="text"],
    .contact-form-wrapper input[type="email"],
    .contact-form-wrapper input[type="tel"],
    .contact-form-wrapper textarea,
    .contact-form-wrapper select {
        width: 100%;
        padding: 12px;
        border: 1px solid var(--input-border);
        border-radius: var(--input-radius);
        box-sizing: border-box;
        margin: 0; /* Resetting margin for grid layout */
    }

    .contact-form-wrapper textarea {
        margin-bottom: 15px; /* Separate margin for textarea */
    }
    
    .contact-form-wrapper button {
        background-color: var(--accent-color);
        color: #ffffff;
        padding: 12px 25px;
        border: none;
        border-radius: var(--button-radius);
        cursor: pointer;
        transition: background-color 0.3s ease;
        font-weight: 600;
    }
    .contact-form-wrapper button:hover {
        background-color: #006666; /* Slightly darker accent */
    }
    /* Success message styling */
    .contact-form-wrapper .success-message {
        padding: 10px;
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
        border-radius: var(--input-radius);
        margin-bottom: 15px;
    }


    /* CTA Banner Styling */
    .cta-banner-wrapper {
        position: relative;
        overflow: hidden;
        border-radius: var(--card-radius);
        margin-bottom: 40px;
    }
    .cta-banner-image {
        width: 100%;
        height: 300px;
        object-fit: cover;
        display: block;
    }
    .cta-content {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: var(--cta-content-vertical-align, center); /* Vertical alignment */
        align-items: center;
        text-align: center;
        background: rgba(0, 0, 0, 0.4); /* Overlay for readability */
        padding: 20px;
    }
    .cta-content h2 {
        color: var(--cta-text-color);
        font-size: var(--cta-heading-size);
        font-weight: var(--cta-heading-weight);
        margin-bottom: 20px;
    }
    .cta-content a.button {
        background-color: #ffffff;
        color: var(--accent-color);
        padding: 12px 30px;
        text-decoration: none;
        border-radius: var(--button-radius);
        font-weight: 600;
        transition: opacity 0.3s ease;
    }
    .cta-content a.button:hover {
        opacity: 0.9;
    }

    /* Banner Styling */
    .top-banner-wrapper {
        position: relative;
        overflow: hidden;
        height: 300px; /* Fixed height for banner */
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .top-banner-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .top-banner-content {
        position: relative;
        z-index: 10;
        text-align: center;
        background: rgba(0, 0, 0, 0.3);
        padding: 10px 30px;
        border-radius: 5px;
    }
    .top-banner-content h1 {
        font-size: var(--banner-heading-size);
        font-weight: var(--banner-heading-weight);
        color: var(--banner-heading-color);
        margin: 0;
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
        .form-map-container {
            flex-direction: column;
        }
        .contact-form-wrapper,
        .google-map-wrapper {
            min-width: 100%;
        }
        .google-map-wrapper iframe {
            height: 350px; /* Set a fixed height for mobile map view */
            min-height: unset;
        }
        .top-banner-wrapper {
            height: 200px;
        }
        .top-banner-content h1 {
            font-size: calc(var(--banner-heading-size) * 0.7);
        }
    }
    
    @media (max-width: 500px) {
        .contact-form-wrapper .form-row-grid {
            grid-template-columns: 1fr;
        }
    }
</style>

<div class="contact-section-wrapper">

    {% comment %} 
        1. First pass: Collect info-card HTML into a variable. 
    {% endcomment %}
    {% assign card_items_html = '' %}
    {% assign blocks_to_render = section.blocks %}

    {% for block in blocks_to_render %}
        {% if block.type == 'info-card' %}
            {% capture card_content %}
                <div class="card-item" {{ block.shopify_attributes }}
                    style="--card-text-align: {{ block.settings.card_text_align }};">
                    <div class="card-contact-info">
                        
                        {% comment %} Icon Image Upload {% endcomment %}
                        {% if block.settings.icon_image != blank %}
                            <div class="icon-wrapper">
                                <img src="{{ block.settings.icon_image | img_url: '50x' }}" 
                                    alt="{{ block.settings.title }} icon" 
                                    loading="lazy">
                            </div>
                        {% endif %}

                        <h5 class="card-title card-title-block"
                            style="--card-title-size: {{ block.settings.card_title_size }}px;
                                    --card-title-weight: {{ block.settings.card_title_weight }};">
                            {{ block.settings.title }}
                        </h5>
                        <p class="card-text">
                            {% if block.settings.card_link != blank %}
                                <a href="{{ block.settings.card_link }}">
                                    {{ block.settings.content | newline_to_br }}
                                </a>
                            {% else %}
                                {{ block.settings.content | newline_to_br }}
                            {% endif %}
                        </p>
                    </div>
                </div>
            {% endcapture %}
            
            {% assign card_items_html = card_items_html | append: card_content %}
        {% endif %}
    {% endfor %}

    {% assign info_cards_rendered = false %}


    {% comment %} 
        2. Second pass: Render all blocks in order
    {% endcomment %}
    {% for block in blocks_to_render %}
        {% case block.type %}
            
            {% when 'banner' %}
                <div class="top-banner-wrapper" {{ block.shopify_attributes }}>
                    {% if block.settings.top_banner_image != blank %}
                        <img src="{{ block.settings.top_banner_image | img_url: 'master' }}" 
                            alt="{{ block.settings.top_banner_heading | escape }}" 
                            class="top-banner-image"
                            loading="lazy">
                    {% endif %}
                    <div class="top-banner-content">
                        <h1 style="--banner-heading-size: {{ block.settings.banner_heading_size }}px; 
                                    --banner-heading-weight: {{ block.settings.banner_heading_weight }};
                                    --banner-heading-color: {{ block.settings.banner_heading_color }};">
                            {{ block.settings.top_banner_heading }}
                        </h1>
                    </div>
                </div>

            {% when 'header' %}
                <div class="contact-container" {{ block.shopify_attributes }}>
                    <div class="section-header-content"
                        style="--header-text-align: {{ block.settings.text_alignment }};">
                        <p class="sub-heading" 
                           style="--sub-heading-size: {{ block.settings.sub_heading_size }}px; 
                                 --sub-heading-weight: {{ block.settings.sub_heading_weight }};">
                            {{ block.settings.sub_heading }}
                        </p>
                        <h2 class="main-heading" 
                            style="--main-heading-size: {{ block.settings.main_heading_size }}px; 
                                   --main-heading-weight: {{ block.settings.main_heading_weight }};">
                            {{ block.settings.heading }}
                        </h2>
                    </div>
                </div>

                {% comment %} Render collected info cards after header {% endcomment %}
                {% if info_cards_rendered == false and card_items_html != blank %}
                    <div class="contact-container info-cards-container">
                        <div class="contact-cards-grid">
                            {{ card_items_html }}
                        </div>
                    </div>
                    {% assign info_cards_rendered = true %}
                {% endif %}


            {% when 'form_map' %}
                <div class="contact-container form-map-section" {{ block.shopify_attributes }}>
                    <div class="form-map-container">
                        
                        <div class="contact-form-wrapper">
                            <h3 class="form-title"
                                style="--form-title-size: {{ block.settings.form_title_size }}px; 
                                        --form-title-weight: {{ block.settings.form_title_weight }};
                                        --form-title-align: {{ block.settings.form_title_alignment }};">
                                {{ block.settings.form_title }}
                            </h3>
                            
                            {% form 'contact' %}
                                {% if form.posted_successfully? %}
                                    <p class="success-message" role="status">Thank you for contacting us! We will get back to you shortly.</p>
                                {% endif %}
                                {{ form.errors | default_errors }}
                                
                                <div class="form-row-grid">
                                    <input type="text" id="ContactFormName" name="contact[name]" placeholder="Full Name*" 
                                        {% if form.name %}value="{{ form.name }}"{% endif %} required>
                                    
                                    <input type="email" id="ContactFormEmail" name="contact[email]" placeholder="Email Address*" 
                                        {% if form.email %}value="{{ form.email }}"{% endif %} required>
                                </div>

                                <div class="form-row-grid">
                                    <input type="tel" id="ContactFormPhone" name="contact[phone]" placeholder="Phone Number" 
                                        {% if form.phone %}value="{{ form.phone }}"{% endif %}>
                                    
                                    <select id="ContactFormSubject" name="contact[Subject]">
                                        <option value="General Inquiry">Choose a topic</option>
                                        <option value="Order Support">Order Support</option>
                                        <option value="Custom Request">Custom Request</option>
                                        <option value="Wholesale">Wholesale</option>
                                    </select>
                                </div>

                                <textarea rows="6" id="ContactFormMessage" name="contact[body]" placeholder="Type message*">{{ form.body }}</textarea>
                                
                                <button type="submit" class="submit-button">Submit Now</button>
                            {% endform %}
                        </div>

                        <div class="google-map-wrapper">
                            {% if block.settings.google_map_embed_code != blank %}
                                {{ block.settings.google_map_embed_code }}
                            {% else %}
                                <div style="height: 100%; min-height: 400px; background-color: #e0e0e0; display: flex; align-items: center; justify-content: center; border-radius: var(--card-radius);">
                                    <p>Map Placeholder: Please add Google Map Embed Code in block settings.</p>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>


            {% when 'cta_banner' %}
                <div class="contact-container" {{ block.shopify_attributes }}>
                    <div class="cta-banner-wrapper">
                        {% if block.settings.cta_image != blank %}
                            <img src="{{ block.settings.cta_image | img_url: 'master' }}" 
                                alt="{{ block.settings.cta_heading | escape }}" 
                                class="cta-banner-image"
                                loading="lazy">
                        {% endif %}
                        <div class="cta-content"
                            style="--cta-content-vertical-align: 
                                {% case block.settings.vertical_alignment %}
                                    {% when 'top' %} flex-start
                                    {% when 'bottom' %} flex-end
                                    {% else %} center
                                {% endcase %}">
                            <h2 style="--cta-text-color: {{ block.settings.cta_text_color }};
                                       --cta-heading-size: {{ block.settings.cta_heading_size }}px;
                                       --cta-heading-weight: {{ block.settings.cta_heading_weight }};">
                                {{ block.settings.cta_heading }}
                            </h2>
                            {% if block.settings.cta_button_text != blank and block.settings.cta_button_link != blank %}
                                <a href="{{ block.settings.cta_button_link }}" class="button">
                                    {{ block.settings.cta_button_text }}
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </div>

        {% endcase %}
    {% endfor %}

    {% comment %} 
        Fallback: If info-cards were not rendered after header, render them now. 
    {% endcomment %}
    {% if info_cards_rendered == false and card_items_html != blank %}
        <div class="contact-container info-cards-container">
            <div class="contact-cards-grid">
                {{ card_items_html }}
            </div>
        </div>
        {% assign info_cards_rendered = true %}
    {% endif %}

</div>

{{ 'schema' | append: section.id | append: '.css' | asset_url | stylesheet_tag }}

{% schema %}
{
    "name": "Modern Contact Layout",
    "max_blocks": 10,
    "settings": [
        {
            "type": "header",
            "content": "A. Global Style Settings"
        },
        {
            "type": "range",
            "id": "padding_top",
            "min": 0,
            "max": 150,
            "step": 5,
            "unit": "px",
            "label": "Section Top Padding",
            "default": 80
        },
        {
            "type": "range",
            "id": "padding_bottom",
            "min": 0,
            "max": 150,
            "step": 5,
            "unit": "px",
            "label": "Section Bottom Padding",
            "default": 80
        },
        {
            "type": "color",
            "id": "background_color",
            "default": "#f8f9fa",
            "label": "Section Background Color"
        },
        {
            "type": "color",
            "id": "accent_color",
            "default": "#008080",
            "label": "Accent Color (Buttons, Sub-text, Links)"
        },
        {
            "type": "color",
            "id": "text_color",
            "default": "#1a1a1a",
            "label": "Main Text Color"
        },
        {
            "type": "color",
            "id": "card_background",
            "default": "#ffffff",
            "label": "Card/Form Background Color"
        },
        {
            "type": "header",
            "content": "B. Global Typography Settings (New)"
        },
        {
            "type": "select",
            "id": "font_family",
            "label": "Base Font Family",
            "options": [
                { "value": "Arial, sans-serif", "label": "Arial" },
                { "value": "'Helvetica Neue', Helvetica, Arial, sans-serif", "label": "Helvetica Neue" },
                { "value": "'Roboto', sans-serif", "label": "Roboto (Modern)" },
                { "value": "'Times New Roman', serif", "label": "Times New Roman" }
            ],
            "default": "'Roboto', sans-serif"
        },
        {
            "type": "range",
            "id": "line_height",
            "min": 1.2,
            "max": 2.0,
            "step": 0.1,
            "label": "Base Line Height",
            "default": 1.6
        },
        {
            "type": "range",
            "id": "letter_spacing",
            "min": 0.0,
            "max": 0.2,
            "step": 0.1,
            "label": "Base Letter Spacing",
            "default": 0.0,
            "unit": "em"
        },
        {
            "type": "header",
            "content": "C. Global Border & Radius Settings"
        },
        {
            "type": "range",
            "id": "card_radius",
            "min": 0,
            "max": 20,
            "step": 1,
            "unit": "px",
            "label": "Card/Form Corner Radius",
            "default": 12
        },
        {
            "type": "range",
            "id": "input_radius",
            "min": 0,
            "max": 15,
            "step": 1,
            "unit": "px",
            "label": "Form Input Field Corner Radius",
            "default": 8
        },
        {
            "type": "color",
            "id": "input_border_color",
            "default": "#dee2e6",
            "label": "Form Input Border Color"
        },
        {
            "type": "range",
            "id": "button_radius",
            "min": 0,
            "max": 50,
            "step": 5,
            "unit": "px",
            "label": "Button Corner Radius",
            "default": 50
        }
    ],
    "blocks": [
        {
            "type": "banner",
            "name": "Top Banner",
            "limit": 1,
            "settings": [
                {
                    "type": "header",
                    "content": "Content Settings"
                },
                {
                    "type": "image_picker",
                    "id": "top_banner_image",
                    "label": "Top Banner Background Image"
                },
                {
                    "type": "text",
                    "id": "top_banner_heading",
                    "default": "Contact Us",
                    "label": "Banner Heading"
                },
                {
                    "type": "header",
                    "content": "Typography Settings"
                },
                {
                    "type": "range",
                    "id": "banner_heading_size",
                    "min": 30,
                    "max": 70,
                    "step": 1,
                    "unit": "px",
                    "label": "Heading Size",
                    "default": 48
                },
                {
                    "type": "select",
                    "id": "banner_heading_weight",
                    "label": "Heading Font Weight",
                    "options": [
                        { "value": "400", "label": "Normal" },
                        { "value": "600", "label": "Semi-Bold" },
                        { "value": "700", "label": "Bold" }
                    ],
                    "default": "700"
                },
                {
                    "type": "color",
                    "id": "banner_heading_color",
                    "default": "#ffffff",
                    "label": "Heading Color"
                }
            ]
        },
        {
            "type": "header",
            "name": "Section Header",
            "limit": 1,
            "settings": [
                {
                    "type": "header",
                    "content": "Content Settings"
                },
                {
                    "type": "select",
                    "id": "text_alignment",
                    "label": "Text Alignment (New)",
                    "options": [
                        { "value": "left", "label": "Left" },
                        { "value": "center", "label": "Center" },
                        { "value": "right", "label": "Right" }
                    ],
                    "default": "center"
                },
                {
                    "type": "text",
                    "id": "sub_heading",
                    "default": "CONTACT INFO",
                    "label": "Sub Heading Text (Accent Color)"
                },
                {
                    "type": "text",
                    "id": "heading",
                    "default": "Reach Out to Us",
                    "label": "Main Heading Text"
                },
                {
                    "type": "header",
                    "content": "Typography Settings"
                },
                {
                    "type": "range",
                    "id": "main_heading_size",
                    "min": 25,
                    "max": 50,
                    "step": 1,
                    "unit": "px",
                    "label": "Main Heading Size",
                    "default": 38
                },
                {
                    "type": "select",
                    "id": "main_heading_weight",
                    "label": "Main Heading Font Weight",
                    "options": [
                        { "value": "400", "label": "Normal" },
                        { "value": "600", "label": "Semi-Bold" },
                        { "value": "700", "label": "Bold" }
                    ],
                    "default": "700"
                },
                {
                    "type": "range",
                    "id": "sub_heading_size",
                    "min": 12,
                    "max": 20,
                    "step": 1,
                    "unit": "px",
                    "label": "Sub-Heading Size",
                    "default": 14
                },
                {
                    "type": "select",
                    "id": "sub_heading_weight",
                    "label": "Sub-Heading Font Weight",
                    "options": [
                        { "value": "400", "label": "Normal" },
                        { "value": "600", "label": "Semi-Bold" },
                        { "value": "700", "label": "Bold" }
                    ],
                    "default": "600"
                }
            ]
        },
        {
            "type": "info-card",
            "name": "Contact Info Card Item",
            "settings": [
                {
                    "type": "header",
                    "content": "Content Settings"
                },
                {
                    "type": "image_picker",
                    "id": "icon_image",
                    "label": "Icon Image (Upload custom icon)"
                },
                {
                    "type": "text",
                    "id": "title",
                    "default": "Our Location",
                    "label": "Title"
                },
                {
                    "type": "textarea",
                    "id": "content",
                    "default": "993 Terrier Burg, West Pond, MT 94201-050",
                    "label": "Details (Use new lines for breaks)"
                },
                {
                    "type": "url",
                    "id": "card_link",
                    "label": "Optional Link for Card Content (New)",
                    "info": "Wraps the content in a clickable link."
                },
                {
                    "type": "select",
                    "id": "card_text_align",
                    "label": "Text Alignment (New)",
                    "options": [
                        { "value": "left", "label": "Left" },
                        { "value": "center", "label": "Center" },
                        { "value": "right", "label": "Right" }
                    ],
                    "default": "center"
                },
                {
                    "type": "header",
                    "content": "Typography Settings"
                },
                {
                    "type": "range",
                    "id": "card_title_size",
                    "min": 14,
                    "max": 22,
                    "step": 1,
                    "unit": "px",
                    "label": "Card Title Size",
                    "default": 16
                },
                {
                    "type": "select",
                    "id": "card_title_weight",
                    "label": "Card Title Font Weight",
                    "options": [
                        { "value": "400", "label": "Normal" },
                        { "value": "600", "label": "Semi-Bold" },
                        { "value": "700", "label": "Bold" }
                    ],
                    "default": "700"
                }
            ]
        },
        {
            "type": "form_map",
            "name": "Form and Map",
            "limit": 1,
            "settings": [
                {
                    "type": "header",
                    "content": "Content Settings"
                },
                {
                    "type": "text",
                    "id": "form_title",
                    "default": "Feel Free to Get in Touch or Visit our Location.",
                    "label": "Form Title"
                },
                {
                    "type": "select",
                    "id": "form_title_alignment",
                    "label": "Form Title Alignment (New)",
                    "options": [
                        { "value": "left", "label": "Left" },
                        { "value": "center", "label": "Center" },
                        { "value": "right", "label": "Right" }
                    ],
                    "default": "left"
                },
                {
                    "type": "html",
                    "id": "google_map_embed_code",
                    "label": "Google Map Embed Code",
                    "info": "Paste the <iframe> embed code here (Share > Embed a map)."
                },
                {
                    "type": "header",
                    "content": "Typography Settings"
                },
                {
                    "type": "range",
                    "id": "form_title_size",
                    "min": 18,
                    "max": 30,
                    "step": 1,
                    "unit": "px",
                    "label": "Form Title Size",
                    "default": 24
                },
                {
                    "type": "select",
                    "id": "form_title_weight",
                    "label": "Form Title Font Weight",
                    "options": [
                        { "value": "400", "label": "Normal" },
                        { "value": "600", "label": "Semi-Bold" },
                        { "value": "700", "label": "Bold" }
                    ],
                    "default": "700"
                }
            ]
        },
        {
            "type": "cta_banner",
            "name": "CTA Banner",
            "limit": 1,
            "settings": [
                {
                    "type": "header",
                    "content": "Content Settings"
                },
                {
                    "type": "image_picker",
                    "id": "cta_image",
                    "label": "CTA Background Image"
                },
                {
                    "type": "text",
                    "id": "cta_heading",
                    "default": "Let's Build Future Together.",
                    "label": "CTA Heading"
                },
                {
                    "type": "text",
                    "id": "cta_button_text",
                    "default": "Get Started Now",
                    "label": "Button Text"
                },
                {
                    "type": "url",
                    "id": "cta_button_link",
                    "label": "Button Link"
                },
                {
                    "type": "select",
                    "id": "vertical_alignment",
                    "label": "Content Vertical Alignment (New)",
                    "options": [
                        { "value": "top", "label": "Top" },
                        { "value": "center", "label": "Center" },
                        { "value": "bottom", "label": "Bottom" }
                    ],
                    "default": "center"
                },
                {
                    "type": "header",
                    "content": "Typography Settings (New)"
                },
                {
                    "type": "range",
                    "id": "cta_heading_size",
                    "min": 25,
                    "max": 50,
                    "step": 1,
                    "unit": "px",
                    "label": "CTA Heading Size",
                    "default": 36
                },
                {
                    "type": "select",
                    "id": "cta_heading_weight",
                    "label": "CTA Heading Font Weight",
                    "options": [
                        { "value": "400", "label": "Normal" },
                        { "value": "600", "label": "Semi-Bold" },
                        { "value": "700", "label": "Bold" }
                    ],
                    "default": "700"
                },
                {
                    "type": "color",
                    "id": "cta_text_color",
                    "default": "#ffffff",
                    "label": "CTA Heading Text Color"
                }
            ]
        }
    ],
    "presets": [
        {
            "name": "Modern Contact Page (Block-Based)",
            "blocks": [
                { "type": "banner" },
                { "type": "header" },
                { "type": "info-card", "settings": { "title": "Our Location", "content": "993 Terrier Burg, West Pond, MT 94201-050" } },
                { "type": "info-card", "settings": { "title": "Email us", "content": "support@domain.com\ninfo@domain.com" } },
                { "type": "info-card", "settings": { "title": "Call us", "content": "+1(008) 544-7518\n+1(008) 690-1870" } },
                { "type": "info-card", "settings": { "title": "Live chat", "content": "livechat@domain.com\nNeed help?" } },
                { "type": "form_map" },
                { "type": "cta_banner" }
            ]
        }
    ]
}
{% endschema %}
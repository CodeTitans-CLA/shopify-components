{% comment %}
  Shopify Section: Customizable Hero Banner with Overlay and Underline Headline
  This section provides a large, responsive banner with a background image,
  text overlay, and extensive styling controls.
{% endcomment %}

{% style %}
  /* --- CUSTOM STYLES --- */
  .hero-banner-{{ section.id }} {
    position: relative;
    width: 100%;
    min-height: {{ section.settings.min_height }}px; /* Control minimum height */
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  /* Background Image and Overlay */
  .hero-banner-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
  }

  .hero-banner-background img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Ensures image covers the container */
    display: block;
  }

  /* Color Overlay */
  .hero-banner-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: {{ section.settings.overlay_color }};
    opacity: {{ section.settings.overlay_opacity | divided_by: 100.0 }};
    z-index: 2;
  }

  /* Content Container */
  .hero-banner-content {
    position: relative;
    z-index: 3;
    max-width: {{ section.settings.max_width }}px;
    padding: 20px;
    text-align: center;
  }

  /* Headline Styling */
  .hero-banner-headline {
    font-size: {{ section.settings.headline_size_desktop }}px;
    font-weight: bold;
    margin-bottom: 20px;
    font-family: {{ section.settings.headline_font }};
    color: {{ section.settings.headline_color }};
    line-height: 1.2;
  }
  
  /* Headline Underline Style */
  .hero-banner-headline span {
      display: inline-block;
      padding-bottom: 8px;
      border-bottom: 4px solid {{ section.settings.underline_color }};
  }

  /* Description Styling */
  .hero-banner-description {
    font-size: {{ section.settings.description_size_desktop }}px;
    font-family: {{ section.settings.description_font }};
    color: {{ section.settings.description_color }};
    line-height: 1.5;
    max-width: 800px;
    margin: 0 auto;
  }

  /* Mobile Responsiveness */
  @media screen and (max-width: 768px) {
    .hero-banner-{{ section.id }} {
      min-height: {{ section.settings.min_height_mobile }}px;
    }
    
    .hero-banner-headline {
      font-size: {{ section.settings.headline_size_mobile }}px;
      margin-bottom: 15px;
    }

    .hero-banner-description {
      font-size: {{ section.settings.description_size_mobile }}px;
    }
    
    .hero-banner-headline span {
      padding-bottom: 5px;
      border-bottom-width: 3px;
    }
  }

{% endstyle %}


<section class="hero-banner-{{ section.id }}" data-section-id="{{ section.id }}">
  
  {% comment %} {# Background Image #} {% endcomment %}
  <div class="hero-banner-background">
    {% if section.settings.image != blank %}
      {% assign img = section.settings.image %}
      <img src="{{ img | img_url: '2000x' }}" 
           alt="{{ img.alt | default: section.settings.headline | escape }}"
           loading="lazy">
    {% else %}
      {% comment %} Placeholder for Theme Editor preview {% endcomment %}
      <div style="width: 100%; height: 100%; background-color: #333;"></div>
    {% endif %}
  </div>

  {% comment %} {# Color Overlay #} {% endcomment %}
  <div class="hero-banner-overlay"></div>

  {% comment %} {# Text Content #} {% endcomment %}
  <div class="hero-banner-content">
    {% if section.settings.headline != blank %}
      <h1 class="hero-banner-headline"><span>{{ section.settings.headline | escape }}</span></h1>
    {% endif %}

    {% if section.settings.description != blank %}
      <p class="hero-banner-description">{{ section.settings.description | newline_to_br }}</p>
    {% endif %}
  </div>

</section>


{% comment %}
  ============================================================
  SECTION SCHEMA: Defines the customizable options in the Theme Editor
  ============================================================
{% endcomment %}

{% schema %}
{
  "name": "Custom Hero Banner",
  "tag": "section",
  "class": "section-hero-banner",
  "settings": [
    {
      "type": "header",
      "content": "Background & Layout"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Background Image"
    },
    {
      "type": "range",
      "id": "min_height",
      "min": 200,
      "max": 800,
      "step": 50,
      "unit": "px",
      "label": "Minimum Height (Desktop)",
      "default": 450
    },
    {
      "type": "range",
      "id": "min_height_mobile",
      "min": 150,
      "max": 500,
      "step": 50,
      "unit": "px",
      "label": "Minimum Height (Mobile)",
      "default": 300
    },
    {
      "type": "range",
      "id": "max_width",
      "min": 600,
      "max": 1400,
      "step": 50,
      "unit": "px",
      "label": "Maximum Content Width",
      "default": 1000,
      "info": "Controls how wide the text can be."
    },
    {
      "type": "header",
      "content": "Image Overlay"
    },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "Overlay Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Overlay Opacity",
      "default": 40
    },
    {
      "type": "header",
      "content": "Text Content"
    },
    {
      "type": "text",
      "id": "headline",
      "label": "Headline Text",
      "default": "THE BEST HEADLINE FOR YOUR PRODUCT"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description Text",
      "default": "Your unique selling proposition goes here. Use this space to clearly explain your product or service and why customers should choose you."
    },
    {
      "type": "header",
      "content": "Headline Customization"
    },
    {
      "type": "text",
      "id": "headline_font",
      "label": "Headline Font Family",
      "default": "sans-serif"
    },
    {
      "type": "range",
      "id": "headline_size_desktop",
      "min": 30,
      "max": 80,
      "step": 2,
      "unit": "px",
      "label": "Headline Size (Desktop)",
      "default": 56
    },
    {
      "type": "range",
      "id": "headline_size_mobile",
      "min": 24,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Headline Size (Mobile)",
      "default": 36
    },
    {
      "type": "color",
      "id": "headline_color",
      "label": "Headline Text Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "underline_color",
      "label": "Headline Underline Color",
      "default": "#ff9900"
    },
    {
      "type": "header",
      "content": "Description Customization"
    },
    {
      "type": "text",
      "id": "description_font",
      "label": "Description Font Family",
      "default": "sans-serif"
    },
    {
      "type": "range",
      "id": "description_size_desktop",
      "min": 16,
      "max": 30,
      "step": 1,
      "unit": "px",
      "label": "Description Size (Desktop)",
      "default": 20
    },
    {
      "type": "range",
      "id": "description_size_mobile",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Description Size (Mobile)",
      "default": 16
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description Text Color",
      "default": "#ffffff"
    }
  ],
  "presets": [
    {
      "name": "Custom Hero Banner",
      "category": "Image"
    }
  ]
}
{% endschema %}